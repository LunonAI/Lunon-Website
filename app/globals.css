@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

:root {
  /* Lunar Light Design System */
  --lunar-base: #F8F9FB;
  --lunar-surface: #FFFFFF;
  --lunar-text: #202227;
  --lunar-accent: #CACED8;
  --lunar-navy: #0F1A2B;
  --lunar-border: #E5E7EB;
  --lunar-muted: #F3F4F6;
  --lunar-highlight: #E6ECF7;
  
  /* Legacy mappings for compatibility */
  --background: oklch(0.98 0.003 240); /* Lunar base */
  --foreground: oklch(0.14 0.01 240); /* Lunar text */
  --card: oklch(1 0 0); /* Lunar surface */
  --card-foreground: oklch(0.14 0.01 240);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.14 0.01 240);
  --primary: oklch(0.14 0.01 240); /* Lunar text */
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.96 0.002 240); /* Lunar muted */
  --secondary-foreground: oklch(0.14 0.01 240);
  --muted: oklch(0.96 0.002 240);
  --muted-foreground: oklch(0.45 0.01 240);
  --accent: oklch(0.83 0.01 240); /* Lunar accent */
  --accent-foreground: oklch(0.14 0.01 240);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(1 0 0);
  --border: oklch(0.91 0.002 240); /* Lunar border */
  --input: oklch(0.91 0.002 240);
  --ring: oklch(0.83 0.01 240); /* Lunar accent */
  --radius: 0.75rem;
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.1 0 0);
  --foreground: oklch(0.98 0 0);
  --card: oklch(0.12 0 0);
  --card-foreground: oklch(0.98 0 0);
  --popover: oklch(0.12 0 0);
  --popover-foreground: oklch(0.98 0 0);
  --primary: oklch(0.98 0 0);
  --primary-foreground: oklch(0.1 0 0);
  --secondary: oklch(0.2 0 0);
  --secondary-foreground: oklch(0.98 0 0);
  --muted: oklch(0.18 0 0);
  --muted-foreground: oklch(0.6 0 0);
  --accent: oklch(0.55 0.15 250);
  --accent-foreground: oklch(0.98 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.98 0 0);
  --border: oklch(0.2 0 0);
  --input: oklch(0.2 0 0);
  --ring: oklch(0.55 0.15 250);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(0.269 0 0);
  --sidebar-ring: oklch(0.439 0 0);
}

@theme inline {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  
  html, body {
    background: var(--lunar-base);
    color: var(--lunar-text);
  }
}

@media (prefers-reduced-motion: no-preference) {
  .lunar-transition {
    transition: all 200ms ease;
  }
}

/* Lunar shadow utilities */
@layer utilities {
  .shadow-lunar-sm {
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  }
  .shadow-lunar-md {
    box-shadow: 0 6px 24px rgba(0, 0, 0, 0.06);
  }
  .shadow-lunar-glow {
    box-shadow: 0 0 40px rgba(230, 236, 247, 0.6);
  }
  .delay-500 {
    animation-delay: 500ms;
  }
  .delay-1000 {
    animation-delay: 1000ms;
  }
}

/* Outer Space Theme Animations */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-20px);
  }
}

@keyframes floatSlow {
  0%, 100% {
    transform: translate(0, 0);
  }
  33% {
    transform: translate(15px, -25px);
  }
  66% {
    transform: translate(-15px, -15px);
  }
}

@keyframes floatMedium {
  0%, 100% {
    transform: translate(0, 0);
  }
  33% {
    transform: translate(-20px, -20px);
  }
  66% {
    transform: translate(20px, -30px);
  }
}

@keyframes floatFast {
  0%, 100% {
    transform: translate(0, 0);
  }
  50% {
    transform: translate(10px, -35px);
  }
}

@keyframes particleFloat1 {
  0% {
    transform: translateY(0px);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  80% {
    opacity: 1;
  }
  100% {
    transform: translateY(-80px);
    opacity: 0;
  }
}

@keyframes particleFloat2 {
  0% {
    transform: translateY(0px);
    opacity: 0;
  }
  25% {
    opacity: 1;
  }
  75% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100px);
    opacity: 0;
  }
}

@keyframes particleFloat3 {
  0% {
    transform: translateY(0px);
    opacity: 0;
  }
  30% {
    opacity: 1;
  }
  70% {
    opacity: 1;
  }
  100% {
    transform: translateY(-120px);
    opacity: 0;
  }
}

@keyframes twinkle {
  0%, 100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

@keyframes shootingStar {
  0% {
    transform: translateX(0) translateY(0);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateX(300px) translateY(300px);
    opacity: 0;
  }
}

@keyframes starScatter {
  from {
    transform: scale(1.5) translate3d(var(--scatter-x), var(--scatter-y), 0);
    opacity: 0;
  }
  to {
    transform: scale(1) translate3d(0, 0, 0);
    opacity: var(--final-opacity, 0.5);
  }
}

.animate-star-scatter {
  /* Start with stars already scattered */
  transform: scale(1.5) translate3d(var(--scatter-x), var(--scatter-y), 0);
  opacity: 0;
  will-change: transform, opacity;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  animation: starScatter var(--duration, 1s) ease-out var(--delay, 0s) forwards !important;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .animate-star-scatter {
    animation: starScatterReduced var(--duration, 0.5s) ease-out var(--delay, 0s) forwards;
  }
}

@keyframes starScatterReduced {
  from {
    opacity: 0;
  }
  to {
    transform: scale(1) translate3d(0, 0, 0);
    opacity: var(--final-opacity, 0.5);
  }
}

/* Star styling - SVG multi-pointed stars */
.star-glow {
  display: block;
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
}

@keyframes starScatter1 {
  0% {
    transform: scale(0.3) translate(-20vw, -20vh);
    opacity: 0;
  }
  50% {
    transform: scale(1.3) translate(-10vw, -10vh);
    opacity: 0.3;
  }
  100% {
    transform: scale(1) translate(0, 0);
    opacity: 0.5;
  }
}

@keyframes starScatter2 {
  0% {
    transform: scale(0.3) translate(20vw, -15vh);
    opacity: 0;
  }
  50% {
    transform: scale(1.3) translate(10vw, -7vh);
    opacity: 0.2;
  }
  100% {
    transform: scale(1) translate(0, 0);
    opacity: 0.4;
  }
}

@keyframes starScatter3 {
  0% {
    transform: scale(0.3) translate(-15vw, 20vh);
    opacity: 0;
  }
  50% {
    transform: scale(1.3) translate(-7vw, 10vh);
    opacity: 0.4;
  }
  100% {
    transform: scale(1) translate(0, 0);
    opacity: 0.6;
  }
}

@keyframes orbit {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes orbit1 {
  0%, 100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(30px, -20px);
  }
  50% {
    transform: translate(60px, 0);
  }
  75% {
    transform: translate(30px, 20px);
  }
}

@keyframes orbit2 {
  0%, 100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(-25px, 15px);
  }
  50% {
    transform: translate(-50px, 0);
  }
  75% {
    transform: translate(-25px, -15px);
  }
}

@keyframes orbit3 {
  0%, 100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(20px, 30px);
  }
  50% {
    transform: translate(0, 60px);
  }
  75% {
    transform: translate(-20px, 30px);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes scan {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100%);
  }
}

@keyframes scan-down {
  0% {
    top: 0;
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    top: 100%;
    opacity: 0;
  }
}

@layer utilities {
  .animate-shimmer {
    animation: shimmer 3s ease-in-out infinite;
  }
  
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }
  
  .animate-float-slow {
    animation: floatSlow 8s ease-in-out infinite;
  }
  
  .animate-float-medium {
    animation: floatMedium 10s ease-in-out infinite;
  }
  
  .animate-float-fast {
    animation: floatFast 6s ease-in-out infinite;
  }
  
  .animate-float-delayed {
    animation: floatSlow 9s ease-in-out 1s infinite;
  }
  
  .animate-particle-float-1 {
    animation: particleFloat1 8s ease-in-out infinite;
  }
  
  .animate-particle-float-2 {
    animation: particleFloat2 10s ease-in-out 2s infinite;
  }
  
  .animate-particle-float-3 {
    animation: particleFloat3 12s ease-in-out 4s infinite;
  }
  
  .animate-twinkle {
    animation: twinkle 3s ease-in-out infinite;
  }
  
  .animate-twinkle-delayed {
    animation: twinkle 4s ease-in-out 1s infinite;
  }
  
  .animate-twinkle-slow {
    animation: twinkle 5s ease-in-out 2s infinite;
  }
  
  .animate-shooting-star {
    animation: shootingStar 3s ease-out infinite;
  }
  
  .animate-shooting-star-delayed {
    animation: shootingStar 4s ease-out 1.5s infinite;
  }
  
  .animate-shooting-star-slow {
    animation: shootingStar 5s ease-out 2.5s infinite;
  }
  
  .animate-orbit {
    animation: orbit 60s linear infinite;
  }
  
  .animate-orbit-1 {
    animation: orbit1 8s ease-in-out infinite;
  }
  
  .animate-orbit-2 {
    animation: orbit2 10s ease-in-out infinite;
  }
  
  .animate-orbit-3 {
    animation: orbit3 12s ease-in-out infinite;
  }
  
  .animate-scan-down {
    animation: scan-down 3s ease-in-out infinite;
  }
}

/* Glare Hover Effect for Button */
.glare-button {
  position: relative;
  overflow: hidden;
  isolation: isolate;
}

.glare-button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: var(--gh-size, 150%);
  height: var(--gh-size, 150%);
  background: linear-gradient(
    var(--gh-angle, -45deg),
    transparent 0%,
    transparent 40%,
    var(--gh-rgba, rgba(71, 85, 105, 0.5)) 50%,
    transparent 60%,
    transparent 100%
  );
  transform: translate(-50%, -50%) translateX(-100%);
  transition: transform var(--gh-duration, 650ms) cubic-bezier(0.23, 1, 0.32, 1);
  pointer-events: none;
  z-index: 1;
}

.glare-button:hover::before {
  transform: translate(-50%, -50%) translateX(100%);
}

.glare-button > * {
  position: relative;
  z-index: 2;
}

/* Starfield layers using CSS box-shadow for performance */
.stars-layer-1 {
  position: fixed !important;
  top: 0;
  left: 0;
  width: 1px;
  height: 1px;
  background: transparent;
  will-change: transform;
  box-shadow: 
    5vw 12vh 1px 0px white,
    15vw 25vh 1px 0px white,
    25vw 8vh 1px 0px white,
    35vw 45vh 1px 0px white,
    45vw 18vh 1px 0px white,
    55vw 65vh 1px 0px white,
    65vw 32vh 1px 0px white,
    75vw 78vh 1px 0px white,
    85vw 42vh 1px 0px white,
    95vw 58vh 1px 0px white,
    10vw 88vh 1px 0px white,
    20vw 52vh 1px 0px white,
    30vw 95vh 1px 0px white,
    40vw 35vh 1px 0px white,
    50vw 72vh 1px 0px white,
    60vw 15vh 1px 0px white,
    70vw 48vh 1px 0px white,
    80vw 85vh 1px 0px white,
    90vw 28vh 1px 0px white,
    12vw 62vh 1px 0px white,
    22vw 38vh 1px 0px white,
    32vw 82vh 1px 0px white,
    42vw 55vh 1px 0px white,
    52vw 22vh 1px 0px white,
    62vw 75vh 1px 0px white,
    72vw 42vh 1px 0px white,
    82vw 68vh 1px 0px white,
    92vw 18vh 1px 0px white,
    8vw 48vh 1px 0px white,
    18vw 92vh 1px 0px white,
    3vw 102vh 1px 0px white,
    13vw 115vh 1px 0px white,
    23vw 108vh 1px 0px white,
    33vw 125vh 1px 0px white,
    43vw 118vh 1px 0px white,
    53vw 105vh 1px 0px white,
    63vw 122vh 1px 0px white,
    73vw 112vh 1px 0px white,
    83vw 128vh 1px 0px white,
    93vw 110vh 1px 0px white,
    7vw 135vh 1px 0px white,
    17vw 120vh 1px 0px white,
    27vw 138vh 1px 0px white,
    37vw 125vh 1px 0px white,
    47vw 132vh 1px 0px white,
    57vw 115vh 1px 0px white,
    67vw 140vh 1px 0px white,
    77vw 128vh 1px 0px white,
    87vw 135vh 1px 0px white,
    97vw 118vh 1px 0px white;
  opacity: 0.5;
  animation: starScatter1 1.5s ease-out forwards;
}

.stars-layer-2 {
  position: fixed !important;
  top: 0;
  left: 0;
  width: 1px;
  height: 1px;
  background: transparent;
  will-change: transform;
  box-shadow: 
    7vw 22vh 1px 0px white,
    17vw 58vh 1px 0px white,
    27vw 15vh 1px 0px white,
    37vw 68vh 1px 0px white,
    47vw 35vh 1px 0px white,
    57vw 82vh 1px 0px white,
    67vw 48vh 1px 0px white,
    77vw 12vh 1px 0px white,
    87vw 75vh 1px 0px white,
    13vw 42vh 1px 0px white,
    23vw 88vh 1px 0px white,
    33vw 28vh 1px 0px white,
    43vw 65vh 1px 0px white,
    53vw 52vh 1px 0px white,
    63vw 8vh 1px 0px white,
    73vw 95vh 1px 0px white,
    83vw 38vh 1px 0px white,
    93vw 72vh 1px 0px white,
    9vw 55vh 1px 0px white,
    19vw 18vh 1px 0px white,
    29vw 78vh 1px 0px white,
    39vw 45vh 1px 0px white,
    49vw 25vh 1px 0px white,
    59vw 62vh 1px 0px white,
    69vw 85vh 1px 0px white,
    79vw 32vh 1px 0px white,
    89vw 92vh 1px 0px white,
    14vw 48vh 1px 0px white,
    24vw 15vh 1px 0px white,
    34vw 75vh 1px 0px white,
    4vw 108vh 1px 0px white,
    14vw 122vh 1px 0px white,
    24vw 112vh 1px 0px white,
    34vw 128vh 1px 0px white,
    44vw 115vh 1px 0px white,
    54vw 108vh 1px 0px white,
    64vw 135vh 1px 0px white,
    74vw 118vh 1px 0px white,
    84vw 125vh 1px 0px white,
    94vw 112vh 1px 0px white,
    9vw 140vh 1px 0px white,
    19vw 128vh 1px 0px white,
    29vw 135vh 1px 0px white,
    39vw 120vh 1px 0px white,
    49vw 138vh 1px 0px white,
    59vw 125vh 1px 0px white,
    69vw 132vh 1px 0px white,
    79vw 115vh 1px 0px white,
    89vw 140vh 1px 0px white,
    11vw 128vh 1px 0px white;
  opacity: 0.4;
  animation: starScatter2 1.5s ease-out 0.1s forwards;
}

.stars-layer-3 {
  position: fixed !important;
  top: 0;
  left: 0;
  width: 2px;
  height: 2px;
  background: transparent;
  will-change: transform;
  box-shadow: 
    11vw 32vh 1px 0px white,
    21vw 68vh 1px 0px white,
    31vw 18vh 1px 0px white,
    41vw 85vh 1px 0px white,
    51vw 45vh 1px 0px white,
    61vw 12vh 1px 0px white,
    71vw 78vh 1px 0px white,
    81vw 52vh 1px 0px white,
    91vw 25vh 1px 0px white,
    16vw 95vh 1px 0px white,
    26vw 38vh 1px 0px white,
    36vw 72vh 1px 0px white,
    46vw 55vh 1px 0px white,
    56vw 8vh 1px 0px white,
    66vw 88vh 1px 0px white,
    76vw 42vh 1px 0px white,
    86vw 62vh 1px 0px white,
    6vw 75vh 1px 0px white,
    28vw 22vh 1px 0px white,
    48vw 92vh 1px 0px white,
    5vw 105vh 1px 0px white,
    15vw 118vh 1px 0px white,
    25vw 110vh 1px 0px white,
    35vw 132vh 1px 0px white,
    45vw 122vh 1px 0px white,
    55vw 108vh 1px 0px white,
    65vw 128vh 1px 0px white,
    75vw 115vh 1px 0px white,
    85vw 135vh 1px 0px white,
    95vw 120vh 1px 0px white,
    8vw 138vh 1px 0px white,
    18vw 125vh 1px 0px white,
    28vw 140vh 1px 0px white,
    38vw 128vh 1px 0px white,
    58vw 132vh 1px 0px white,
    68vw 118vh 1px 0px white,
    78vw 140vh 1px 0px white,
    88vw 130vh 1px 0px white,
    98vw 122vh 1px 0px white;
  opacity: 0.6;
  filter: blur(0.5px);
  animation: starScatter3 1.5s ease-out 0.2s forwards;
}

/* Fade in animation for notifications */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translate(-50%, -10px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out forwards;
}

/* Range slider styles for ROI calculator */
input[type="range"].slider {
  -webkit-appearance: none;
  appearance: none;
  background: linear-gradient(to right, #1e293b 0%, #1e293b var(--slider-progress, 0%), #e2e8f0 var(--slider-progress, 0%), #e2e8f0 100%);
  height: 14px;
  border-radius: 0;
}

input[type="range"].slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 2px;
  background: white;
  cursor: pointer;
  border: 2px solid #1e293b;
  box-sizing: border-box;
  margin-top: -2px;
}

input[type="range"].slider::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 2px;
  background: white;
  cursor: pointer;
  border: 2px solid #1e293b;
  box-sizing: border-box;
}

input[type="range"].slider::-webkit-slider-runnable-track {
  background: transparent;
  height: 14px;
}

input[type="range"].slider::-moz-range-track {
  background: #e2e8f0;
  height: 14px;
  border-radius: 0;
}

/* Firefox progress fill */
input[type="range"].slider::-moz-range-progress {
  background: #1e293b;
  height: 14px;
  border-radius: 0;
}

/* Remove number input spinners */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
  appearance: textfield;
}

/* Remove leading zeros from number inputs */
input[type="number"] {
  text-align: center;
}
